<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Test</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
  </head>

  <body ng-app="myApp">
  	<div class="container" ng-controller="myCtrl">
  		<div class="row">
  			<div class="col-sm-12">
  				<p>loan amount: {{dataobj.total_principal_paid | currency}} </p>

  			</div>
  		</div>
  	</div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script>var j = jQuery.noConflict();</script>
    <script src="js/bootstrap.min.js"></script>
    
    <script src="js/angular.min.js"></script>
    <!-- 
      http://localhost/loancalculator2/testparams.html#?a=100&b=200&c=con cat&d=con de 
      http://localhost/loancalculator2/testparams.html#?foo=yipee&e=empty&f=funny#hashValue
    -->
    <script>
    	var app = angular.module("myApp", []);
    	app.controller("myCtrl", ['$scope','$filter','$location','$http',function($scope,$filter,$location,$http){
        // alert($http);


        $http.get("calculate.php?loanamount=1,000,000&loanterminmonths=36&interestrateperyear=6&loanstartdate=Sep%202016")
        .then(function mySuccess(response) {
            // First function handles success
            // alert(response.status);
            // alert(response.data);
            $scope.dataobj = response.data;
        }, function myError(response) {
            //Second function handles error
            // $scope.content = "Something went wrong";
            alert('error ' + response.statusText);
            alert(response.status);
            alert(response.headers)
        });
    	}]);
    </script>

  </body>
</html>
